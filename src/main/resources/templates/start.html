<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Start</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="/script/script.js" defer></script>
</head>
<body>
    <form action="/profile" method="get">
        <button type="submit">Visa profil</button>
    </form>
  <p>Välkommen till Hotell Kantarell!</p>
  <form method="get" action="/start">
  <label for="start">Incheckning:</label>
  <input type="date" id="start" name="start">

  <label for="end">Utcheckning:</label>
  <input type="date" id="end" name="end">
      <p>Antal personer</p>
      <label>
          <input type="radio" name="guests" value="1" required> 1
      </label>
      <label>
          <input type="radio" name="guests" value="2"> 2
      </label>
      <label>
          <input type="radio" name="guests" value="3"> 3
      </label>
      <label>
          <input type="radio" name="guests" value="4"> 4
      </label><br>
      <button type="submit">Skicka</button>
  </form>
  <div th:if="${results != null}">
      <h2>Tillgängliga rum</h2>
      <ul>
          <li th:each="item : ${results}">
              <form th:action="@{/book}" method="post">

                  Rum: <span th:text="${item.roomNumber}"></span>, Antal sängar: <span th:text="${item.beds}"></span>, extra sängar: <span th:text="${item.extraBeds}"></span>, Storlek <span th:text="${item.area}">, Pris per natt: </span> m², Pris per natt: <span th:text="${item.pricePerNight}">kr</span> <img th:src="${item.imageUrl}" alt="Bild på rummet">

                  <input type="hidden" name="room.id" th:value="${item.id}" />
                  <input type="hidden" name="start" th:value="${#dates.format(start, 'yyyy-MM-dd')}" />
                  <input type="hidden" name="end" th:value="${#dates.format(end, 'yyyy-MM-dd')}" />
                  <button type="submit">Boka</button>
              </form>
          </li>
      </ul>
  </div>
<div class="notification-popup error" th:if="${error}">
    <span th:text="${error}"></span>
    <button class="close-notification">×</button>
</div>
<div class="notification-popup success" th:if="${success}">
    <span th:text="${success}"></span>
    <button class="close-notification">×</button>
</div>

</body>
</html>